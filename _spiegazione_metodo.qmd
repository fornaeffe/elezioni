
Per predire il numero di voti che ciascuna lista prenderà alle prossime
elezioni in ciascun comune ho ipotizzato che i voti presi da
ciascuna lista seguano il modello che descrivo qui di seguito.

Ho ipotizzato che la percentuale globale (sul totale degli elettori) della 
lista $l$ nell'elezione $t$ (trasformata attraverso la funzione 
$\operatorname{logit}$ affinché non sia vincolata tra 0 e 1) sia uguale alla 
percentuale globale della stessa lista nell'elezione precedente ($t-1$) 
(anch'essa trasformata tramite $\operatorname{logit}$), più una quantità 
(positiva o negativa) che dipende dal tempo trascorso tra le due elezioni e da 
una "velocità" di cambiamento casuale, con una distribuzione normale e una 
deviazione standard che può variare da lista a lista (ci saranno liste più 
stabili, le cui velocità di cambiamento saranno vicine allo zero, e liste meno
stabili con velocità di cambiamento che possono discostarsi maggiormente dallo 
zero).

$$ \operatorname{logit}(P_{l,t}) = \operatorname{logit}(P_{l,t-1}) 
+ \sqrt{data_t - data_{t-1}} \cdot v_{G, l, t} $$

$$ v_{G, l, t} \sim \mathcal{N}(0, \sigma_{G,l})$$

Dove 

* $P_{l,t}$ è la percentuale globale (sul totale degli aventi diritto al voto)
della lista $l$ all'elezione $t$,
* $P_{t-1}$ è la percentuale della lista $l$ all'elezione precedente ($t-1$),
* $data_t$ e $data_{t-1}$ sono le date delle due elezioni,
* $v_{G, l, t}$ è la velocità di cambiamento della percentuale trasformata
globale della lista $l$ tra l'elezione $t-1$ e l'elezione $t$
* $\sigma_{G,l}$ è la deviazione standard delle velocità di cambiamento della
percentuale (logit-trasformata) della lista $l$.

Ipotizzo poi che, per ciascun comune $c$, la percentuale comunale 
$p_{l,c,t}$ della lista $l$ sul totale degli aventi diritto al voto 
(sempre trasformata tramite $\operatorname{logit}$) sia uguale alla 
percentuale globale $P_{l,t}$ (trasformata) della stessa lista, più (o meno) 
una differenza $\delta_{l,c,t}$ specifica per il comune:

$$\operatorname{logit}(p_{l,c,t}) = \operatorname{logit}(P_{l,t}) +
\delta_{l,c,t}$$

Ipotizzo infine che questa differenza possa cambiare tra un'elezione e l'altra
di una quantità che dipende dal tempo trascorso e da una "velocità" casuale
con una distribuzione normale e una deviazione standard $\sigma_{P, l}$
specifica per la lista:

$$
\delta_{l, c, t} = \delta_{l, c, t-1} + \sqrt{data_t - data_{t-1}} \cdot 
v_{l, c, t}
$$


$$v_{l, c, t} \sim \mathcal{N}(0, \sigma_{C,l})$$

Dove 

* $v_{l, c, t}$ è la velocità di cambiamento di $\delta_{l,c,t}$ 
tra l'elezione $t-1$ e l'elezione $t$ nel comune $c$,
* $\sigma_{C,l}$ è la deviazione standard della distribuzione delle velocità di 
cambiamento $v_{l, c, t}$.

In tutti questi casi considero l'astensione come una lista a sé.


Dai dati sulle elezioni precedenti ottengo quindi:

* per ciascuna lista $l$, la deviazione standard $\sigma_{G,l}$ delle velocità
di cambiamento delle percentuali globali trasformate;
* per ciascuna lista $l$, la deviaizone standard $\sigma_{G,l}$ delle velocità
di cambiamento delle differenze tra ciascun comune e il valore globale;
* per ciascuna lista $l$, la percentuale globale trasformata 
$\operatorname{logit}(P_{l,ultima\ elezione})$ ottenuta alle ultime elezioni;
* per ciascuna lista $l$ e ciascun comune $c$, la differenza 
$\delta_{l,c,ultima\ elezione}$ tra la percentuale trasformata comunale e
globale alle ultime elezioni.


Per fare una simulazione dei voti delle prossime elezioni, quindi:

1. calcolo il tempo che trascorrerà tra le ultime elezioni e una probabile 
data delle prossime elezioni
2. estraggo a sorte, per ciascuna lista $l$, le velocità di cambiamento
$v_{G, l, ultima\ elezione}$ delle percentuali globali;
3. attraverso le equazioni sopra, calcolo le nuove percentuali globali;
4. estraggo a sorte, per ciascuna lista $l$ e comune $c$, le velocità di 
cambiamento $v_{l, c, ultima\ elezione}$ delle differenze comunali;
5. attraverso le equazioni sopra, calcolo le nuove differenze comunali e a 
seguire le nuove percentuali comunali.

Le percentuali comunali così ottenute vengono poi scalate in modo che la 
somma di tutte le percentuali del comune faccia 1:

$$\hat{p}_{l, c, ultima\ elezione} = \frac{p_{l, c, ultima\ elezione}}
{\displaystyle{\sum_{l \in Liste } p_{l, c,  ultima\ elezione}}}$$

dove $\hat{p}_{l,c, ultima\ elezione}$ è la percentuale scalata della lista $l$
nel comune $c$, simulata per le prossime elezioni.

Quest'ultima percentuale viene poi moltiplicata per gli elettori, per ottenere
il numero di voti ricevuti da ciascuna lista in ciascun comune.

Con questi voti viene poi simulato uno scrutinio, seguendo quanto stabilito
dalla legge elettorale.

## Serie storica dei risultati delle liste

Di seguito la serie storica di elezioni considerate. Sono mostrate le
percentuali di ciascuna lista rispetto al totale degli aventi diritto al voto.

In alcuni casi i risultati passati della lista sono basati sul risultato di 
liste affini.

I triangoli sulla destra comprendono il 95% dei risultati simulati di ciascuna
lista alle prossime elezioni.